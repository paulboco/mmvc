<?php

/*
|--------------------------------------------------------------------------
| BEGIN CONFIGURATION
|--------------------------------------------------------------------------
*/

/**
 * Toggle maintenance mode
 */

define('MAINTENANCE_MODE', false);

/*
|--------------------------------------------------------------------------
| END CONFIGURATION
|--------------------------------------------------------------------------
*/

/*
|--------------------------------------------------------------------------
| Setup PHP
|--------------------------------------------------------------------------
*/

error_reporting(E_ALL | E_WARNING | E_NOTICE);
ini_set('display_errors', TRUE);

/*
|--------------------------------------------------------------------------
| Set the BASE_PATH constant.
|--------------------------------------------------------------------------
*/

define('BASE_PATH', realpath(__DIR__ . '/../'));

/*
|--------------------------------------------------------------------------
| Require the helper functions.
|--------------------------------------------------------------------------
*/

require BASE_PATH . '/Support/helpers.php';

/*
|--------------------------------------------------------------------------
| Register the class autoloader.
|--------------------------------------------------------------------------
*/

spl_autoload_register(function($className)
{
    $classPath = str_replace('\\', '/', $className) . '.php';

    if (file_exists(BASE_PATH . '/' . $classPath)) {
        require BASE_PATH . '/' . $classPath;
    }
});

/*
|--------------------------------------------------------------------------
| Check for maintenance mode.
|--------------------------------------------------------------------------
*/

if (MAINTENANCE_MODE) {
    die(Support\View::instance()->make('errors/503'));
}
